---
- name: greeter - config
  file:
    src="{{ home_dir}}/.ansible/system/files/lightdm.conf"
    dest=/etc/lightdm/lightdm.conf
    state=file

- name: greeter - background
  file:
    src="{{ home_dir}}/.ansible/system/files/login_background.jpg"
    dest=/usr/share/backgrounds/login_background.jpg
    state=file

- name: greeter-theme - config
  file:
    src="{{ home_dir}}/.ansible/system/files/lightdm-gtk-greeter.conf"
    dest=/etc/lightdm/lightdm-gtk-greeter.conf
    state=file

- name: Nemo - verify default
  command: "{{ item }}"
  with_items:
    - xdg-mime query default inode/directory application/x-gnome-saved-search
    - xdg-mime query default application/x-gnome-saved-search
  register: nemo_default

- name: Nemo - set default
  command: xdg-mime default nemo.desktop inode/directory application/x-gnome-saved-search
  when: not nemo_default
